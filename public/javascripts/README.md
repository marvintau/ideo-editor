# TODO:       
   
事实上我们并不需要设计额外的procedure来支持我们未来所设想的参数化重心控制。首先从代码实现并不容易，非常繁琐，
其次我们也很难真的设计出适合的procedure。事实上比procedure更重要的是，我们究竟如何为“重心”，“中宫”等概念
建立模型。我们也并不需要设计出一个可以使中宫扩大的procedure，通过给定的中宫参数在现有的笔画上再设计新的操作
进行改变，而是基于现有的笔画参数，比如长度、角度、比例等，穷举所有的组合，来寻找中宫参数对这些参数组合的映射，
然后来寻找笔画参数以中宫参数作为自变量的模型。

因此接下来的任务包括：

1. 点击汉字的时候，对应的spec条目出现在下方。[done]
   对spec和某种更简单的语言实现双向翻译[done]
   在线编辑[done]
   代码高亮[**ongoing**]

2. 描述一个字拓扑结构的约束条件

   a. 实现一个变量列表，变量列表的条目内包含变量名称、描述、range和默认值[done]
   b. 初始化对象时，变量列表将作为各层次对象的一个属性（即加入到CurveStructureBase中）[done]
   c. prog读取变量表初始化其中的值[done]
   d. 约束列表，列表内的条目包含比较运算符，getter和标的值。getter应该对应prog中的setter[**ongoing**]
       
       基本上唯一需要进行判断的就是两笔画是否相交，或者相交的位置是否大于或小于某个值，即我们之前的intersection

       除此以外的是平行笔画、fanning笔画之类。
       这部分内容应当和某些特定的部首有关，可以直接作为variable列表，而不是general的方法。

3. 自动在boundary内寻找所有参数组合，以及rect/centroid结果 [*next*]

4. RadicalSet: 组字方法 [*next*]

# 如何定义笔画模型与参数

首先我们知道，笔画最基本的参数是构成笔画的线段的**长度**、**角度**以及**笔画之间的位置**。在
最高层次表现出的字是否好看是由构成这个字的所有笔画的长度角度及位置决定的。可以应用于这些参数的操
作包括，长度变化、角度变化和位置变化。也就是说这三个参数是最基本的参数。

在这个基础上我们需要对部首做出描述。当笔画构成部首的时候产生了一些新的信息，包括这个部首的位置、
外框，笔画密集区域框（这个需要更精确地定义）和outlier框。它们不是基本的参数，而是由底层参数计算所得的。同时
对它们操作包含位置移动，笔画密集区域框的移动。
    
接下来我们可以来定义一些规则：
1. 整个汉字的外框、笔画密集区域框应当居中且基本同心，至少同轴
2. 同一偏旁部首的互补部分的外框、笔画密集区域框应当相同，且互相贴近
3. 部首的形态应当与其所在结构位置有关

#描述汉字的数据结构

基于上述的描述，我们设计以下层级结构，每个层级通过其子层级构成，并且允许不同的操作。

1. Seg
   线段由anchor, angle与length构成，同时记录spec
   允许的修改操作包括：
       根据spec进行旋转，拉伸和平移
   其他的参数包括：
       获取bbox
   其他的一般方法包括：
       copy，绘图

2. Curve
   Curve由Seg列表构成
   允许的操作包括：
       根据spec对Seg进行操作(对整个曲线进行旋转、拉伸和平移)
   其它的参数包括：
       获取bbox
       获取依据ratio得到的一点：at
   其他的一般方法：
       copy，绘图

3. CompoundCurve
   由Curve列表构成，即我们一般所指的“笔画”。
   允许的操作包括：
       根据spec对Curve进行操作（对整个曲线进行拉伸，对曲线中的一部分进行旋转、拉伸）
   其他参数包括：
       获取bbox
       获取依据ith curve与ratio得到的点: at

4. CrossedStrokeSet
   由CompoundCurve列表构成，代表一系列笔画部件，即这些部件均通过笔画的交汇、相接
   或固定的相对位置构成来描述。近似与部首或者独体字（中的一部分）
   允许的操作包括：
       按spec移动笔画（只在初始化进行一次）
   其他参数包括
       获取bbox
       ？获取依据ith compound curve与ratio得到的点：at

    **需要注意的是，CrossedStrokeSet的spec必需指定一些方法，使得它能够适应不同的偏
    旁位置、高度和宽度的微小调整，以及其它形状变化的需求。**

5. AlignedStrokeSet
   由crossedStrokeSet构成。它代表的是通过基础部件对齐和组合的方式构成的笔画集合，近
   似于我们所说的部首，当然，也包括最终的完整汉字
   允许的操作包括：
       根据spec对AlignedStrokeSet进行操作（按align的方法进行移动）
   其他参数包括
       获取bbox
   
