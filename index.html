<html>
    <style>
        body{
            background: #8abeb7;
        }

        #canvas{
            margin: 10px;
            border: true;
            background: white;
        }
        textarea{
            margin: 10px;
            resize: none;
            border : none;
            width: 600px;
            background: white;
        }


    </style>
    <body>
            <div id="canvas_wrap">
                <canvas id="canvas" width="600" height="600" ></canvas>
            </div>
            <div>
            <textarea id="stroke-spec" rows="10">
{
"pie" : {"stroke":[{"len":0.5, "ang":100}, {"len":4, "ang":135}, {"len":4, "ang":150}]},
"na"  : {"stroke":[{"len":3, "ang":60  }, {"len":3, "ang":45  }, {"len":3, "ang":30  }]},
"heng": {"stroke":[{"len":1, "ang":3   }, {"len":7, "ang":-1   }, {"len":1, "ang":3   }]},
"shu" : {"stroke":[{"len":1, "ang":93 }, {"len":7, "ang":90 }, {"len":1, "ang":93 }]},
"dian": {"stroke":[{"len":1, "ang":30  }, {"len":1, "ang":45  }, {"len":1, "ang":60  }]},
"zuodian": {"stroke":[{"len":1, "ang":135  }, {"len":3, "ang":120  }]},
"ti"  : {"stroke":[{"len":1, "ang":0  }, {"len":4, "ang":-10  }, {"len":1, "ang":-10  }]},
"wan" : {"stroke":[{"len":3, "ang":20  }, {"len":4, "ang":70  }, {"len":4, "ang":110  }, {"len":4, "ang":130  }]},
"xie"  : {"stroke":[{"len":3, "ang":80  }, {"len":3, "ang":65  }, {"len":3, "ang":50  }]},
"shupie" : {"stroke":[{"len":0.5, "ang":100}, {"len":4, "ang":90}, {"len":2, "ang":120}, {"len":2, "ang":135}]},
"pingna"  : {"stroke":[{"len":3, "ang":30  }, {"len":3, "ang":15  }, {"len":3, "ang":0  }]},
"-veryxieshuwan-" : {"stroke":[{"len":6, "ang":140  }, {"len":1, "ang":70  }, {"len":6, "ang":0  }]},
"-xieshuwan-" : {"stroke":[{"len":6, "ang":120  }, {"len":1, "ang":70  }, {"len":5, "ang":0  }]},
"-shuwan-" : {"stroke":[{"len":5, "ang":90  }, {"len":2, "ang":70  }, {"len":6, "ang":0  }]},
"-zhe-down" : {"stroke":[{"len":4, "ang":123 }]},
"-gou-down" : {"stroke":[{"len":3, "ang":153}]},
"-gou-left" : {"stroke":[{"len":3, "ang":-135}]},
"-gou-up" : {"stroke":[{"len":3, "ang":-103}]},
"hengzhe-" : {"compound-stroke":[{"stroke":"heng", "stretch":0.9}, {"stroke":"-zhe-down", "stretch":0.9}]},
"henggou" : {"compound-stroke":[{"stroke":"heng", "stretch":1.2}, {"stroke":"-gou-down", "stretch":0.8}]},
"hengzhe" : {"compound-stroke":[{"stroke":"heng", "stretch":0.9}, {"stroke":"shu", "stretch":0.9}]},
"hengzhezhe" : {"compound-stroke":[{"stroke":"heng", "stretch":0.9}, {"stroke":"shu", "stretch":0.9}, {"stroke":"heng", "stretch":0.9}]},
"hengzhezhezhe" : {"compound-stroke":[{"stroke":"hengzhezhe", "stretch":0.9}, {"stroke":"shu", "stretch":0.9}]},
"hengzhezhepie" : {"compound-stroke":[{"stroke":"hengzhe-"}, {"stroke":"heng", "stretch":0.5}, {"stroke":"pie", "stretch":1.3}]},
"hengzhezhezhegou" : {"compound-stroke":[{"stroke":"hengzhe-"}, {"stroke":"heng", "stretch":0.5}, {"stroke":"pie", "rotate":-30}, {"stroke":"-gou-left"}]},
"hengzhewangou" : {"compound-stroke":[{"stroke":"heng", "stretch":0.9}, {"stroke":"-veryxieshuwan-", "stretch":1.9}, {"stroke":"-gou-up"}]},
"hengshuwangou" : {"compound-stroke":[{"stroke":"heng", "stretch":0.9}, {"stroke":"-shuwan-", "stretch":1.9}, {"stroke":"-gou-up"}]},
"hengxiegou" : {"compound-stroke":[{"stroke":"heng", "stretch":0.9}, {"stroke":"xie", "stretch":1.1}, {"stroke":"-gou-up"}]},
"shugou" : {"compound-stroke":[{"stroke":"shu", "stretch":1.2}, {"stroke":"-gou-left", "stretch":0.8}]},
"shuzhe" : {"compound-stroke":[{"stroke":"shu", "stretch":1.2}, {"stroke":"heng", "stretch":0.8}]},
"shuzhezhe" : {"compound-stroke":[{"stroke":"shuzhe", "stretch":1.2}, {"stroke":"shu", "stretch":0.8}]},
"shuzhezhegou" : {"compound-stroke":[{"stroke":"shuzhe", "stretch":1.2}, {"stroke":"pie", "rotate":-30}, {"stroke":"-gou-left"}]},
"shuwan" : {"compound-stroke":[{"stroke":"-shuwan-"}]},
"shuwangou" : {"compound-stroke":[{"stroke":"-shuwan-"}, {"stroke":"-gou-up"}]},
"hengpie" : {"compound-stroke":[{"stroke":"heng", "stretch":0.9}, {"stroke":"pie", "stretch":0.9}]},
"hengpiewan" : {"compound-stroke":[{"stroke":"hengpie", "stretch":0.8}, {"stroke":"wan", "stretch":0.9}]},
"piezhe" : {"compound-stroke":[{"stroke":"pie", "rotate":-15}, {"stroke":"heng"}]},
"piedian" : {"compound-stroke":[{"stroke":"pie", "rotate":-30}, {"stroke":"dian", "stretch":2}]},
"xiegou" : {"compound-stroke":[{"stroke":"xie"}, {"stroke":"-gou-up"}]},
"wogou"  : {"compound-stroke":[{"stroke":"xiegou", "rotate":-30}]},
"xieshu" : {"compound-stroke":[{"stroke":"shu", "rotate":-30}]}
}
            </textarea></div>
            <div><textarea id="stroke-list" rows="10">
[
{"name":"piedian"},
{"name":"piezhe", "conds":[{"cross":{"dest":0, "rdest":1, "rself":0}}]}
]
            </textarea></div>
     </body>
    <script src="./vector.js"></script>
    <script src="./stroke.js"></script>
    <script src="./radical.js"></script>

    <script>
        var canvas_size = new Vec(document.getElementById("canvas").width, document.getElementById("canvas").height),
            canvas = document.getElementById("canvas").getContext("2d");

        var c = document.getElementById("canvas"),
            ratio = window.devicePixelRatio;
        c.style.width = c.width + "px";
        c.style.height = c.height + "px";
        c.width = c.width * ratio;
        c.height = c.height * ratio;
        canvas.scale(ratio, ratio);

        var radicalSet = new RadicalSet();

        radicalSet.draw();
    </script>

</html>
